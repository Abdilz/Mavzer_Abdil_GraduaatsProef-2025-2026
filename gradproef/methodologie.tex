%%=============================================================================
%% Methodologie
%%=============================================================================

\chapter{\IfLanguageName{dutch}{Methodologie}{Methodology}}%
\label{ch:methodologie}

De ontwikkeling volgde een iteratieve aanpak in de volgende fasen:

\section{Fase 1: Technologiekeuze}

Na vergelijkende analyse werd gekozen voor:
\begin{itemize}
    \item \textbf{Twilio}: Uitgebreide documentatie, flexibele API's, webhooks
    \item \textbf{OpenAI GPT}: Superieure taalcapaciteiten, function calling mechanisme
    \item \textbf{ASP.NET Core}: Integratie met bestaande TurnUp-infrastructuur
\end{itemize}

\section{Fase 2: Proof of Concept}

Validatie van de gekozen technologieën:
\begin{enumerate}
    \item Twilio-account met Belgisch telefoonnummer
    \item Webhooks naar lokale omgeving via ngrok~\autocite{Ngrok2024}
    \item Minimale ASP.NET Core API
    \item OpenAI integratie voor vraag-antwoord flow
\end{enumerate}

\section{Fase 3: Implementatie}

De architectuur bestaat uit:
\begin{itemize}
    \item \textbf{TwilioController}: Ontvangt webhooks, genereert TwiML
    \item \textbf{OpenAIChatService}: Communicatie met OpenAI API
    \item \textbf{Tool handlers}: Business logic per AI-functie
    \item \textbf{TurnUp API client}: Integratie met praktijksoftware
\end{itemize}

Vijf kernfuncties werden geïmplementeerd: klant opzoeken, afspraak annuleren, afspraak verzetten, wachtlijst, en doorverbinden.

\section{Fase 4: Meertalige ondersteuning}

\begin{itemize}
    \item IVR-menu voor taalkeuze (NL/EN/FR)
    \item Dynamische system prompt per taal
    \item Taalspecifieke TTS-stemmen (Amazon Polly)
\end{itemize}

\section{Gebruikte technologieën}

\begin{table}[h]
\centering
\begin{tabular}{ll}
\toprule
\textbf{Categorie} & \textbf{Technologie} \\
\midrule
Programmeertaal & C\# (.NET 8) \\
Telefonie & Twilio Programmable Voice \\
AI & OpenAI GPT-4 \\
Hosting & Microsoft Azure \\
Versiebeheer & Git, GitHub \\
Lokale tunneling & ngrok \\
\bottomrule
\end{tabular}
\caption[Gebruikte technologieën]{Overzicht van gebruikte tools}
\end{table}
